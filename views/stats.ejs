<!DOCTYPE html>
<html>
<head>
  <title>P,R,S - Stats</title>
  <link rel="stylesheet" href="styles/style.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
 </head>
<body>
  <% include global/header %>

  <div id="stats">
    <h2> User Stats</h2>
    <table>
      <tr>
       <th class="top_row">Player Name</th>
       <th class="top_row">Games Played</th>
       <th class="top_row">Wins </th>
       <th class="top_row">Losses </th>
       <th class = "top_row"> Ties </th>
       <th class="top_row">Win Percentage</th>
       <th class="top_row">Rock %</th>
       <th class="top_row">Paper %</th>
       <th class="top_row">Scissors %</th>
     </tr>

      <%for(var i=0;i< user["player"].length;i++){%>
    <!--    <%if(user["player"][i].total_games>0){%>
    -->
          <tr>
          <td><span class="player_name_span"><%user["player"][i].Name%> </span> </td>
          <td> <%=user["player"][i].Name%></td>
          <td> <%=user["player"][i].total_games%></td>
          <td> <%=user["player"][i].wins%></td>
          <td> <%=user["player"][i].losses%> </td>
          <td> <%=user["player"][i].ties%> </td>
          <td> <%=Math.round(((user["player"][i].wins)/(user["player"][i].total_games))*100) +"%"%> </td>
          <td> <%=Math.round(((user["player"][i].rock)/(user["player"][i].total_games))*100) +"%"%> </td>
          <td> <%Math.round(((user["player"][i].paper)/(user["player"][i].total_games))*100) +"%"%> </td>
          <td> <%=Math.round(((user["player"][i].scissors)/(user["player"][i].total_games))*100) +"%"%> </td>
          </tr>
      
          <% } else{ %>
            <tr>
                <td><span class="player_name_span"><%user["player"][i].Name%> </span> </td>
                <td> 0 </td>
                <td> 0 </td>
                <td> 0 </td>
                <td> 0 </td>
                <td> 0 </td>
                <td> 0 </td>
                <td> 0 </td>
                <td> 0 </td>
          </tr>
          <% } %>

          <% } %>
    </table>

    <h3> Villain Stats</h2>
    <table>
      <tr>
       <th class="top_row">Villian Name</th>
       <th class="top_row">Games Played</th>
       <th class="top_row">Wins </th>
       <th class="top_row">Losses </th>
       <th class = "top_row"> Ties </th>
       <th class="top_row">Win Percentage</th>
       <th class="top_row">Rock %</th>
       <th class="top_row">Paper %</th>
       <th class="top_row">Scissors %</th>
     </tr>

      <%for (var i=0;i< user["villain"].length;i++){%>
       <%if(user["villain"][i].total_games>0){%>
          <tr>
          <td><span class="player_name_span"><%user["villain"][i].Name%> </span> </td>
          <td> <%=user["villain"][i].total_games%></td>
          <td> <%=user["villain"][i].wins%></td>
          <td> <%=user["villain"][i].losses%></td>
          <td> <%=user["villain"][i].ties%> </td>
          <td> <%=Math.round(((user["villain"][i].wins)/(user["villain"][i].total_games))*100) +"%"%> </td>
          <td> <%=Math.round(((user["villain"][i].rock)/(user["villain"][i].total_games))*100) +"%"%> </td>
          <td> <%=Math.round(((user["villain"][i].paper)/(user["villain"][i].total_games))*100) +"%"%> </td>
          <td> <%=Math.round(((user["villain"][i].scissors)/(user["villain"][i].total_games))*100) +"%"%> </td>
          </tr>

          <% } else{ %>
            <tr>
                <td><span class="player_name_span"><%user["villain"][i].Name%> </span> </td>
                <td> 0 </td>
                <td> 0 </td>
                <td> 0 </td>
                <td> 0 </td>
                <td> 0 </td>
                <td> 0 </td>
                <td> 0 </td>
                <td> 0 </td>
          </tr>
          <% } %>

          <% } %>
    </table>


    <div id "strats">
      <ul>
        <li> Bones will randomly throws paper, rock, or scissors.</li>
        <li> Manny will always throw paper. </li>
        <li> Regal will always throw rock.</li>
        <li> Mickey will always throw scissors.</li>
        <li> Gato will choose a randomly generated weapon, but then he will sometimes choose to win, lose, or tie, with the weighting towards winning </li>
        <li> Mr. Modern will be randomly assigned a weapon, but then he will sometimes choose to win, lose, or tie, with the weighting towards losing. </li>

        <li> The Boss will always win.</li>
        <li> Comic Hans will always lose just like Comic Sans.</li>
        <li> Harry will throw depending on what thet last villian threw.
            <ul>
              <li> For example, if the last villain threw paper, he will throw scissors.</li>
              <li> If the last villian threw scissors, he will throw paper.</li>
            </ul>
        </li>

        <li> Pixie will randomly throws paper, rock, or scissors. </li>
        <li> Spock will randomly throws paper, rock, or scissors. </li>
        <li> The Magician will never throw the same thing twice.</li>
        <!-- <li> The Ref is just not implemented yet </li> -->


    </div>


    <form action="/playagain" method="Get">
       <input type="submit" name="Play Again" value="Play Again!">
    </form>
  </div>
  <% include global/footer %>
  <script src="scripts/scripts.js"></script>
 </body>
</html>
